<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>FPP Demo â€” Gun & Mobile Controls</title>
  <link rel="stylesheet" href="style.css">
  <!-- three.js dari CDN -->
  <script src="https://unpkg.com/three@0.154.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.154.0/examples/js/controls/PointerLockControls.js"></script>
</head>
<body>
  <div id="gameContainer"></div>

  <!-- HUD / Controls -->
  <div id="hud">
    <div id="leftPad">
      <div id="joystickBase">
        <div id="joystickKnob"></div>
      </div>
    </div>

    <div id="rightPad">
      <button id="btnShoot" class="hudBtn">Tembak</button>
      <button id="btnJump" class="hudBtn">Loncat</button>
      <button id="btnRun" class="hudBtn toggle">Lari</button>
    </div>

    <div id="crosshair">+</div>
    <div id="fpsInfo"></div>
  </div>

  <script>
    // simple UI for leaderboard & save (optional)
    function saveScoreToServer(player, score){
      fetch('server/api.php?action=save_score', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: `player=${encodeURIComponent(player)}&score=${score}`
      })
      .then(res => res.json())
      .then(data => console.log('Save score result:', data));
    }

    function getLeaderboard(){
      fetch('server/api.php?action=get_leaderboard')
        .then(res => res.json())
        .then(data => console.log('Leaderboard:', data));
    }

    function getAIDifficulty(score){
      fetch('server/run_ai.php', {
        method: 'POST',
        headers: {'Content-Type': 'application/x-www-form-urlencoded'},
        body: `score=${score}`
      })
      .then(res => res.json())
      .then(data => console.log('AI Difficulty:', data));
    }
  </script>

  <script src="app.js"></script>
</body>
</html>
